% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nest_cv.R
\name{nest_cv}
\alias{nest_cv}
\title{Advanced Cross-Validation for Nested Datasets}
\usage{
nest_cv(
  nest_dt,
  v = 10,
  repeats = 1,
  strata = NULL,
  breaks = 4,
  pool = 0.1,
  ...
)
}
\arguments{
\item{nest_dt}{A \code{data.frame} or \code{data.table} containing at least one nested
\code{data.frame} or \code{data.table} column.
\itemize{
\item Supports multi-level nested structures
\item Requires at least one nested data column
}}

\item{v}{The number of partitions of the data set.}

\item{repeats}{The number of times to repeat the V-fold partitioning.}

\item{strata}{A variable in \code{data} (single character or name) used to conduct
stratified sampling. When not \code{NULL}, each resample is created within the
stratification variable. Numeric \code{strata} are binned into quartiles.}

\item{breaks}{A single number giving the number of bins desired to stratify a
numeric stratification variable.}

\item{pool}{A proportion of data used to determine if a particular group is
too small and should be pooled into another group. We do not recommend
decreasing this argument below its default of 0.1 because of the dangers
of stratifying groups that are too small.}

\item{...}{These dots are for future extensions and must be empty.}
}
\value{
Enhanced \code{data.table} containing:
\itemize{
\item Original non-nested columns
\item \code{splits}: Cross-validation split objects
\item \code{train}: Training datasets for each split
\item \code{validate}: Validation datasets for each split
}
}
\description{
Provides a flexible and powerful cross-validation strategy for nested datasets,
supporting complex machine learning and statistical modeling workflows.
}
\details{
Cross-Validation Processing Workflow:
\enumerate{
\item Input data validation
\item Identify nested data columns
\item Perform cross-validation splits for each nested dataset
\item Generate training and validation sets
\item Preserve original non-nested column context
}

Key Features:
\itemize{
\item Supports complex nested data structures
\item Flexible stratified sampling strategies
\item High-performance data processing
\item Seamless integration with \code{rsample}
\item Preserves original data context
}
}
\note{
Usage Considerations:
\itemize{
\item Input data must contain at least one nested \code{data.frame} or \code{data.table}
\item Internally converts to \code{data.table} for performance optimization
\item Stratification variable must exist in all nested data frames
\item Supports additional parameter passing to \code{\link[rsample:vfold_cv]{rsample::vfold_cv()}} via \code{...}
}
}
\examples{
dt_nest <- w2l_nest(data = iris, cols2l = 1:2, by = "Species")
nest_cv(nest_dt = dt_nest, v = 2, repeats = 2)
}
\seealso{
\itemize{
\item \code{\link[rsample:vfold_cv]{rsample::vfold_cv()}} Underlying cross-validation function
\item \code{\link[rsample:initial_split]{rsample::training()}} Extract training set
\item \code{\link[rsample:initial_split]{rsample::testing()}} Extract test set
}
}
